/* =========================================
   Contexto de página (usa variables globales)
========================================= */

/* Nuevas secciones */
.user-method-section {
  padding: 40px 0;
  background: #2f6e4f03;
}

.methodologies-info-section {
  padding: 40px 0;
  text-align: center;
}

.methodologies-info-section h2 {
  color: #333;
  margin-bottom: 16px;
  font-size: 28px;
}

.methodologies-info-section p {
  color: #666;
  font-size: 16px;
  max-width: 600px;
  margin: 0 auto;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.user-method-section h2 {
  color: #333;
  margin-bottom: 24px;
  font-size: 24px;
  text-align: center;
}

body.methodologies-page-active {
  margin: 0;
  padding: 0;
  background: var(--green-dk) !important;
}

.methodologies-page {
  min-height: 100vh;
  background:
    radial-gradient(900px 520px at 18% 22%, var(--green) 0%, var(--green-40) 60%),
    radial-gradient(900px 520px at 82% 78%, var(--green-dk) 0%, var(--green-30) 60%),
    var(--green-dk);
  color: var(--paper);
  display: flex;
  flex-direction: column;
}

/* =========================================
   Header
========================================= */
.methodologies-header {
  padding: 4rem 1.5rem 2.5rem;
}

.header-content {
  max-width: 1200px;
  margin: 0 auto;
  text-align: center;
}

.header-content h1 {
  margin: 0;
  font-size: clamp(2rem, 3.6vw, 3rem);
  line-height: 1.25;
  font-weight: 900;
  color: var(--paper);
  text-shadow: 0 2px 0 rgba(0,0,0,.14);
}

/* =========================================
   Listado de tarjetas
========================================= */
.methodologies-content {
  padding: 0 1.5rem 4.5rem;
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  gap: 2.25rem;
}

/* =========================================
   Tarjeta base
========================================= */
.methodology-card {
  position: relative;
  border-radius: 40px;
  background: var(--paper);
  border: 1px solid color-mix(in srgb, var(--green) 18%, transparent);
  box-shadow: 0 20px 46px rgba(0,0,0,.28);
  overflow: hidden;
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}

.methodology-card::before {
  content: "";
  position: absolute;
  inset: 14px;
  border-radius: 28px;
  background: color-mix(in srgb, var(--yellow) 26%, white 74%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.65);
  z-index: 0;
}

.methodology-card:hover {
  transform: translateY(-6px);
  box-shadow:
    0 0 0 3px color-mix(in srgb, var(--amber) 26%, transparent),
    0 28px 68px rgba(0,0,0,.38),
    0 18px 34px color-mix(in srgb, var(--amber) 22%, transparent);
  border-color: color-mix(in srgb, var(--amber) 40%, transparent);
}

/* Grid de contenido */
.card-content {
  position: relative;
  z-index: 1; /* sobre el ::before */
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: clamp(1.2rem, 2.5vw, 2rem);
  align-items: center;
  padding: clamp(1.6rem, 3vw, 2.2rem);
  min-height: 240px;
}

/* Zigzag */
.methodology-card.card--right .card-content { grid-template-areas: "text pig"; }
.methodology-card.card--left .card-content  {
  grid-template-columns: 1fr 2fr;
  grid-template-areas: "pig text";
}

/* =========================================
   Sección de texto
========================================= */
.text-section {
  grid-area: text;
  display: flex;
  flex-direction: column;
  gap: .85rem;
  color: var(--ink);
}

/* ====== HARD RESET del título ====== */
.methodologies-page .method-title {
  position: relative;
  z-index: 2;
  margin: 0 0 .35rem 0;
  padding: 0;
  display: block;
  font-weight: 900;
  font-size: 1.5rem;
  color: var(--green-dk);
  background: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
  text-shadow: none !important;
  border: 0 !important;
  outline: 0 !important;
  filter: none !important;
  mix-blend-mode: normal !important;
  -webkit-text-fill-color: currentColor;
}

/* mata cualquier pseudo decorativo */
.methodologies-page .method-title::before,
.methodologies-page .method-title::after,
.methodologies-page .method-title *::before,
.methodologies-page .method-title *::after {
  content: none !important;
  display: none !important;
  background: none !important;
  box-shadow: none !important;
}

/* Subtítulo */
.method-subtitle {
  margin: .15rem 0 0 0;
  font-size: clamp(1.05rem, 1.6vw, 1.25rem);
  font-weight: 800;
  color: var(--green);
  font-style: italic;
}

/* Descripción */
.method-description {
  margin: 0;
  font-size: clamp(0.98rem, 1.4vw, 1.06rem);
  line-height: 1.7;
  color: color-mix(in srgb, color white(--ink) 92%, black 8%);
  text-align: justify;
  text-shadow: 0 1px 0 rgba(255,255,255,.35);
}

/* =========================================
   Fallback: clases antiguas
========================================= */
.method-badge,
.method-badge::before,
.method-badge::after {
  background: var(--paper) !important;
  box-shadow: none !important;
  border: none !important;
}

/* =========================================
   Sección del cerdito (AGRANDADO)
========================================= */
.pig-section { grid-area: pig; display: grid; place-items: center; }

.pig-image-frame {
  width: clamp(180px, 18vw, 260px);
  height: clamp(180px, 18vw, 260px);
  display: grid;
  place-items: center;
  filter: drop-shadow(0 14px 30px rgba(0,0,0,.28));
  transition: transform .25s ease, filter .25s ease;
}
.methodology-card:hover .pig-image-frame {
  transform: translateY(-2px);
  filter: drop-shadow(0 18px 40px rgba(0,0,0,.34));
}

.pig-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  transform-origin: center;
  animation: pigFloat 3s ease-in-out infinite;
}

.pig-image--mirror { transform: scaleX(-1); }

@keyframes pigFloat {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-10px); }
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .pig-image { animation: none; }
}

/* =========================================
   Responsive
========================================= */
@media (max-width: 1024px) {
  .card-content {
    grid-template-columns: 1fr;
    grid-template-areas:
      "text"
      "pig";
    text-align: center;
    gap: 1rem;
  }
  .methodology-card.card--left .card-content,
  .methodology-card.card--right .card-content { grid-template-columns: 1fr; }

  .pig-image-frame {
    width: clamp(200px, 28vw, 260px);
    height: clamp(200px, 28vw, 260px);
  }
}

@media (max-width: 640px) {
  .methodology-card { border-radius: 28px; }
  .methodology-card::before { inset: 10px; border-radius: 20px; }
  .header-content h1 { font-size: 1.85rem; }

  .pig-image-frame {
    width: clamp(160px, 46vw, 220px);
    height: clamp(160px, 46vw, 220px);
  }
}

/* =========================================
   "Tu Método Actual" — idéntico a methodology-card
   (solo estilos del contenedor .method-display)
========================================= */
.methodologies-page .user-method-section .method-display {
  position: relative;
  margin: 0 auto;
  border-radius: 40px;
  background: var(--paper) !important;
  border: 1px solid color-mix(in srgb, var(--green) 18%, transparent);
  box-shadow: 0 20px 46px rgba(0,0,0,.28);
  overflow: hidden;
  padding: clamp(1.6rem, 3vw, 2.2rem);
  min-height: 240px;
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}

/* marco interior exacto */
.methodologies-page .user-method-section .method-display::before {
  content: "";
  position: absolute;
  inset: 14px;
  border-radius: 28px;
  background: color-mix(in srgb, var(--yellow) 26%, white 74%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.65);
  z-index: 0;
}

/* garantizar que el contenido quede sobre el marco */
.methodologies-page .user-method-section .method-display > * {
  position: relative;
  z-index: 1;
}

/* hover idéntico */
.methodologies-page .user-method-section .method-display:hover {
  transform: translateY(-6px);
  box-shadow:
    0 0 0 3px color-mix(in srgb, var(--amber) 26%, transparent),
    0 28px 68px rgba(0,0,0,.38),
    0 18px 34px color-mix(in srgb, var(--amber) 22%, transparent);
  border-color: color-mix(in srgb, var(--amber) 40%, transparent);
}

/* === TIPOGRAFÍA INTERNA (mismos colores que las tarjetas) ==== */
/* Título dentro del método actual */
.methodologies-page .user-method-section .method-display h1,
.methodologies-page .user-method-section .method-display h2,
.methodologies-page .user-method-section .method-display h3,
.methodologies-page .user-method-section .method-display .method-name {
  margin: 0 0 .35rem 0;
  font-weight: 900;
  font-size: 1.5rem;
  color: var(--green-dk) !important;   /* NO blanco */
  text-shadow: none !important;
  background: transparent !important;
}

/* Texto general (labels, spans, valores, etc.) */
.methodologies-page .user-method-section .method-display,
.methodologies-page .user-method-section .method-display p,
.methodologies-page .user-method-section .method-display span,
.methodologies-page .user-method-section .method-display small,
.methodologies-page .user-method-section .method-display label,
.methodologies-page .user-method-section .method-display li,
.methodologies-page .user-method-section .method-display strong {
  color: var(--ink) !important;        /* mismo tono de las tarjetas */
  text-shadow: 0 1px 0 rgba(255,255,255,.20);
}

/* Descripción bajo el título (igual a .method-description de las tarjetas) */
.methodologies-page .user-method-section .method-display .method-description {
  margin: 0;
  font-size: clamp(0.98rem, 1.4vw, 1.06rem);
  line-height: 1.7;
  color: color-mix(in srgb, color white(--ink) 92%, black 8%) !important;
  text-align: justify;
  text-shadow: 0 1px 0 rgba(255,255,255,.35);
}

/* evita que librerías pinten fondos/blancos dentro del contenedor */
.methodologies-page .user-method-section .method-display .method-header,
.methodologies-page .user-method-section .method-display .method-info,
.methodologies-page .user-method-section .method-display .method-details {
  background: transparent !important;
  box-shadow: none !important;
  border: 0;
}

/* radios en móvil iguales */
@media (max-width: 640px) {
  .methodologies-page .user-method-section .method-display {
    border-radius: 28px;
    padding: 1.5rem;
  }
  .methodologies-page .user-method-section .method-display::before {
    inset: 10px;
    border-radius: 20px;
  }
}
